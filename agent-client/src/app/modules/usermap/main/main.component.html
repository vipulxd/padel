<div class="map-wrapper">
  <div class="permission-btn-wrapper">
    <div *ngIf="!updatingLocation">
      <button class="btn-home" (click)="requestLocationUpdate()">START</button>
    </div>
    <div *ngIf="updatingLocation">
      <button class="btn-home" (click)="requestStopLocationUpdates()">
        STOP
      </button>
    </div>
  </div>

  <agm-map
    [latitude]="coords[coords.length - 1].lat"
    [longitude]="coords[coords.length - 1].lng"
    [disableDefaultUI]="true"
    [zoom]="17"
    [usePanning]="true"
    [tilt]="50"
  >
    >
    <agm-marker
      *ngFor="let coordinate of coords; let i = index"
      [latitude]="coordinate[coords.length -1].lat"
      [longitude]="coordinate[coords.length -1].lng"
      [agmFitBounds]="true"
      [iconUrl]="$any(icon)"
    ></agm-marker>

  </agm-map>
</div>
